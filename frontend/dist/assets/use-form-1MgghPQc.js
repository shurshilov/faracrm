import{u as ue,e as be,p as Ee,j as Q,f as Ve,n as l,k as ge}from"./index-vK4T-B9h.js";import{I as K}from"./Button-kQItaDUP.js";function Se(t,e,r){const n=ue(t,e,r),{label:s,description:c,error:o,required:f,classNames:u,styles:a,className:E,unstyled:S,__staticSelector:F,__stylesApiProps:V,errorProps:y,labelProps:p,descriptionProps:k,wrapperProps:C,id:I,size:P,style:_,inputContainer:D,inputWrapperOrder:d,withAsterisk:b,variant:m,vars:$,mod:A,...W}=n,{styleProps:U,rest:X}=be(W),Z={label:s,description:c,error:o,required:f,classNames:u,className:E,__staticSelector:F,__stylesApiProps:V||n,errorProps:y,labelProps:p,descriptionProps:k,unstyled:S,styles:a,size:P,style:_,inputContainer:D,inputWrapperOrder:d,withAsterisk:b,variant:m,id:I,mod:A,...C};return{...X,classNames:u,styles:a,unstyled:S,wrapperProps:{...Z,...U},inputProps:{required:f,classNames:u,styles:a,unstyled:S,size:P,__staticSelector:F,__stylesApiProps:V||n,error:o,variant:m,id:I}}}const me={__staticSelector:"InputBase",withAria:!0},q=Ee((t,e)=>{const{inputProps:r,wrapperProps:n,...s}=Se("InputBase",me,t);return Q.jsx(K.Wrapper,{...n,children:Q.jsx(K,{...r,...s,ref:e})})});q.classes={...K.classes,...K.Wrapper.classes};q.displayName="@mantine/core/InputBase";const Fe={},ie=Ve((t,e)=>{const r=ue("TextInput",Fe,t);return Q.jsx(q,{component:"input",ref:e,...r,__staticSelector:"TextInput"})});ie.classes=q.classes;ie.displayName="@mantine/core/TextInput";function je(t){if(!/^[0-9a-zA-Z-]+$/.test(t))throw new Error(`[@mantine/use-form] Form name "${t}" is invalid, it should contain only letters, numbers and dashes`)}const ke=typeof window<"u"?l.useLayoutEffect:l.useEffect;function j(t,e){ke(()=>{if(t)return window.addEventListener(t,e),()=>window.removeEventListener(t,e)},[t])}function Oe(t,e){t&&je(t),j(`mantine-form:${t}:set-field-value`,r=>e.setFieldValue(r.detail.path,r.detail.value)),j(`mantine-form:${t}:set-values`,r=>e.setValues(r.detail)),j(`mantine-form:${t}:set-initial-values`,r=>e.setInitialValues(r.detail)),j(`mantine-form:${t}:set-errors`,r=>e.setErrors(r.detail)),j(`mantine-form:${t}:set-field-error`,r=>e.setFieldError(r.detail.path,r.detail.error)),j(`mantine-form:${t}:clear-field-error`,r=>e.clearFieldError(r.detail)),j(`mantine-form:${t}:clear-errors`,e.clearErrors),j(`mantine-form:${t}:reset`,e.reset),j(`mantine-form:${t}:validate`,e.validate),j(`mantine-form:${t}:validate-field`,r=>e.validateField(r.detail)),j(`mantine-form:${t}:reorder-list-item`,r=>e.reorderListItem(r.detail.path,r.detail.payload)),j(`mantine-form:${t}:remove-list-item`,r=>e.removeListItem(r.detail.path,r.detail.index)),j(`mantine-form:${t}:insert-list-item`,r=>e.insertListItem(r.detail.path,r.detail.item,r.detail.index)),j(`mantine-form:${t}:set-dirty`,r=>e.setDirty(r.detail)),j(`mantine-form:${t}:set-touched`,r=>e.setTouched(r.detail)),j(`mantine-form:${t}:reset-dirty`,r=>e.resetDirty(r.detail)),j(`mantine-form:${t}:reset-touched`,e.resetTouched)}function we(t){return e=>{if(!e)t(e);else if(typeof e=="function")t(e);else if(typeof e=="object"&&"nativeEvent"in e){const{currentTarget:r}=e;r instanceof HTMLInputElement?r.type==="checkbox"?t(r.checked):t(r.value):(r instanceof HTMLTextAreaElement||r instanceof HTMLSelectElement)&&t(r.value)}else t(e)}}function Y(t){return t===null||typeof t!="object"?{}:Object.keys(t).reduce((e,r)=>{const n=t[r];return n!=null&&n!==!1&&(e[r]=n),e},{})}function Pe(t){const[e,r]=l.useState(Y(t)),n=l.useRef(e),s=l.useCallback(u=>{r(a=>{const E=Y(typeof u=="function"?u(a):u);return n.current=E,E})},[]),c=l.useCallback(()=>s({}),[]),o=l.useCallback(u=>{n.current[u]!==void 0&&s(a=>{const E={...a};return delete E[u],E})},[e]),f=l.useCallback((u,a)=>{a==null||a===!1?o(u):n.current[u]!==a&&s(E=>({...E,[u]:a}))},[e]);return{errorsState:e,setErrors:s,clearErrors:c,setFieldError:f,clearFieldError:o}}function x(t,e){if(e===null||typeof e!="object")return{};const r={...e};return Object.keys(e).forEach(n=>{n.includes(`${String(t)}.`)&&delete r[n]}),r}function te(t,e){const r=t.substring(e.length+1).split(".")[0];return parseInt(r,10)}function re(t,e,r,n){if(e===void 0)return r;const s=`${String(t)}`;let c=r;n===-1&&(c=x(`${s}.${e}`,c));const o={...c},f=new Set;return Object.entries(c).filter(([u])=>{if(!u.startsWith(`${s}.`))return!1;const a=te(u,s);return Number.isNaN(a)?!1:a>=e}).forEach(([u,a])=>{const E=te(u,s),S=u.replace(`${s}.${E}`,`${s}.${E+n}`);o[S]=a,f.add(S),f.has(u)||delete o[u]}),o}function Ce(t,{from:e,to:r},n){const s=`${t}.${e}`,c=`${t}.${r}`,o={...n};return Object.keys(n).every(f=>{let u,a;if(f.startsWith(s)&&(u=f,a=f.replace(s,c)),f.startsWith(c)&&(u=f.replace(c,s),a=f),u&&a){const E=o[u],S=o[a];return S===void 0?delete o[u]:o[u]=S,E===void 0?delete o[a]:o[a]=E,!1}return!0}),o}function se(t,e,r){typeof r.value=="object"&&(r.value=R(r.value)),!r.enumerable||r.get||r.set||!r.configurable||!r.writable||e==="__proto__"?Object.defineProperty(t,e,r):t[e]=r.value}function R(t){if(typeof t!="object")return t;var e=0,r,n,s,c=Object.prototype.toString.call(t);if(c==="[object Object]"?s=Object.create(t.__proto__||null):c==="[object Array]"?s=Array(t.length):c==="[object Set]"?(s=new Set,t.forEach(function(o){s.add(R(o))})):c==="[object Map]"?(s=new Map,t.forEach(function(o,f){s.set(R(f),R(o))})):c==="[object Date]"?s=new Date(+t):c==="[object RegExp]"?s=new RegExp(t.source,t.flags):c==="[object DataView]"?s=new t.constructor(R(t.buffer)):c==="[object ArrayBuffer]"?s=t.slice(0):c.slice(-6)==="Array]"&&(s=new t.constructor(t)),s){for(n=Object.getOwnPropertySymbols(t);e<n.length;e++)se(s,n[e],Object.getOwnPropertyDescriptor(t,n[e]));for(e=0,n=Object.getOwnPropertyNames(t);e<n.length;e++)Object.hasOwnProperty.call(s,r=n[e])&&s[r]===t[r]||se(s,r,Object.getOwnPropertyDescriptor(t,r))}return s||t}function le(t){return typeof t!="string"?[]:t.split(".")}function w(t,e){const r=le(t);if(r.length===0||typeof e!="object"||e===null)return;let n=e[r[0]];for(let s=1;s<r.length&&n!=null;s+=1)n=n[r[s]];return n}function H(t,e,r){const n=le(t);if(n.length===0)return r;const s=R(r);if(n.length===1)return s[n[0]]=e,s;let c=s[n[0]];for(let o=1;o<n.length-1;o+=1){if(c===void 0)return s;c=c[n[o]]}return c[n[n.length-1]]=e,s}function De(t,{from:e,to:r},n){const s=w(t,n);if(!Array.isArray(s))return n;const c=[...s],o=s[e];return c.splice(e,1),c.splice(r,0,o),H(t,c,n)}function $e(t,e,r,n){const s=w(t,n);if(!Array.isArray(s))return n;const c=[...s];return c.splice(typeof r=="number"?r:c.length,0,e),H(t,c,n)}function Ie(t,e,r){const n=w(t,r);return Array.isArray(n)?H(t,n.filter((s,c)=>c!==e),r):r}function _e({$values:t,$errors:e,$status:r}){const n=l.useCallback((o,f)=>{r.clearFieldDirty(o),e.setErrors(u=>Ce(o,f,u)),t.setValues({values:De(o,f,t.refValues.current),updateState:!0})},[]),s=l.useCallback((o,f)=>{r.clearFieldDirty(o),e.setErrors(u=>re(o,f,u,-1)),t.setValues({values:Ie(o,f,t.refValues.current),updateState:!0})},[]),c=l.useCallback((o,f,u)=>{r.clearFieldDirty(o),e.setErrors(a=>re(o,u,a,1)),t.setValues({values:$e(o,f,u,t.refValues.current),updateState:!0})},[]);return{reorderListItem:n,removeListItem:s,insertListItem:c}}var he=function t(e,r){if(e===r)return!0;if(e&&r&&typeof e=="object"&&typeof r=="object"){if(e.constructor!==r.constructor)return!1;var n,s,c;if(Array.isArray(e)){if(n=e.length,n!=r.length)return!1;for(s=n;s--!==0;)if(!t(e[s],r[s]))return!1;return!0}if(e.constructor===RegExp)return e.source===r.source&&e.flags===r.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===r.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===r.toString();if(c=Object.keys(e),n=c.length,n!==Object.keys(r).length)return!1;for(s=n;s--!==0;)if(!Object.prototype.hasOwnProperty.call(r,c[s]))return!1;for(s=n;s--!==0;){var o=c[s];if(!t(e[o],r[o]))return!1}return!0}return e!==e&&r!==r};const B=ge(he);function N(t,e){const r=Object.keys(t);if(typeof e=="string"){const n=r.filter(s=>s.startsWith(`${e}.`));return t[e]||n.some(s=>t[s])||!1}return r.some(n=>t[n])}function Te({initialDirty:t,initialTouched:e,mode:r,$values:n}){const[s,c]=l.useState(e),[o,f]=l.useState(t),u=l.useRef(e),a=l.useRef(t),E=l.useCallback(d=>{const b=typeof d=="function"?d(u.current):d;u.current=b,r==="controlled"&&c(b)},[]),S=l.useCallback((d,b=!1)=>{const m=typeof d=="function"?d(a.current):d;a.current=m,(r==="controlled"||b)&&f(m)},[]),F=l.useCallback(()=>E({}),[]),V=d=>{const b=d?{...d,...n.refValues.current}:n.refValues.current;n.setValuesSnapshot(b),S({})},y=l.useCallback((d,b)=>{E(m=>N(m,d)===b?m:{...m,[d]:b})},[]),p=l.useCallback((d,b,m)=>{S($=>N($,d)===b?$:{...$,[d]:b},m)},[]),k=l.useCallback((d,b)=>{const m=N(a.current,d),$=!B(w(d,n.getValuesSnapshot()),b),A=x(d,a.current);A[d]=$,S(A,m!==$)},[]),C=l.useCallback(d=>N(u.current,d),[]),I=l.useCallback(d=>S(b=>{if(typeof d!="string")return b;const m=x(d,b);return delete m[d],B(m,b)?b:m}),[]),P=l.useCallback(d=>{if(d){const m=w(d,a.current);if(typeof m=="boolean")return m;const $=w(d,n.refValues.current),A=w(d,n.valuesSnapshot.current);return!B($,A)}return Object.keys(a.current).length>0?N(a.current):!B(n.refValues.current,n.valuesSnapshot.current)},[]),_=l.useCallback(()=>a.current,[]),D=l.useCallback(()=>u.current,[]);return{touchedState:s,dirtyState:o,touchedRef:u,dirtyRef:a,setTouched:E,setDirty:S,resetDirty:V,resetTouched:F,isTouched:C,setFieldTouched:y,setFieldDirty:p,setTouchedState:c,setDirtyState:f,clearFieldDirty:I,isDirty:P,getDirty:_,getTouched:D,setCalculatedFieldDirty:k}}function Ae({initialValues:t,onValuesChange:e,mode:r}){const n=l.useRef(!1),[s,c]=l.useState(t||{}),o=l.useRef(s),f=l.useRef(s),u=l.useCallback(({values:p,subscribers:k,updateState:C=!0,mergeWithPreviousValues:I=!0})=>{const P=o.current,_=p instanceof Function?p(o.current):p,D=I?{...P,..._}:_;o.current=D,C&&c(D),e==null||e(D,P),k==null||k.filter(Boolean).forEach(d=>d({updatedValues:D,previousValues:P}))},[e]),a=l.useCallback(p=>{var I;const k=w(p.path,o.current),C=p.value instanceof Function?p.value(k):p.value;if(k!==C){const P=o.current,_=H(p.path,C,o.current);u({values:_,updateState:p.updateState}),(I=p.subscribers)==null||I.filter(Boolean).forEach(D=>D({path:p.path,updatedValues:_,previousValues:P}))}},[u]),E=l.useCallback(p=>{f.current=p},[]),S=l.useCallback((p,k)=>{n.current||(n.current=!0,u({values:p,updateState:r==="controlled"}),E(p),k())},[u]),F=l.useCallback(()=>{u({values:f.current,updateState:!0,mergeWithPreviousValues:!1})},[u]),V=l.useCallback(()=>o.current,[]),y=l.useCallback(()=>f.current,[]);return{initialized:n,stateValues:s,refValues:o,valuesSnapshot:f,setValues:u,setFieldValue:a,resetValues:F,setValuesSnapshot:E,initialize:S,getValues:V,getValuesSnapshot:y}}function Re({$status:t}){const e=l.useRef({}),r=l.useCallback((s,c)=>{l.useEffect(()=>(e.current[s]=e.current[s]||[],e.current[s].push(c),()=>{e.current[s]=e.current[s].filter(o=>o!==c)}),[c])},[]),n=l.useCallback(s=>e.current[s]?e.current[s].map(c=>o=>c({previousValue:w(s,o.previousValues),value:w(s,o.updatedValues),touched:t.isTouched(s),dirty:t.isDirty(s)})):[],[]);return{subscribers:e,watch:r,getFieldSubscribers:n}}function ne(t,e){return t?`${t}-${e.toString()}`:e.toString()}function oe(t){const e=Y(t);return{hasErrors:Object.keys(e).length>0,errors:e}}function G(t,e,r="",n={}){return typeof t!="object"||t===null?n:Object.keys(t).reduce((s,c)=>{const o=t[c],f=`${r===""?"":`${r}.`}${c}`,u=w(f,e);let a=!1;return typeof o=="function"&&(s[f]=o(u,e,f)),typeof o=="object"&&Array.isArray(u)&&(a=!0,u.forEach((E,S)=>G(o,e,`${f}.${S}`,s))),typeof o=="object"&&typeof u=="object"&&u!==null&&(a||G(o,e,f,s)),s},n)}function ee(t,e){return oe(typeof t=="function"?t(e):G(t,e))}function M(t,e,r){if(typeof t!="string")return{hasError:!1,error:null};const n=ee(e,r),s=Object.keys(n.errors).find(c=>t.split(".").every((o,f)=>o===c.split(".")[f]));return{hasError:!!s,error:s?n.errors[s]:null}}const Le="__MANTINE_FORM_INDEX__";function ce(t,e){return e?typeof e=="boolean"?e:Array.isArray(e)?e.includes(t.replace(/[.][0-9]+/g,`.${Le}`)):!1:!1}function We({name:t,mode:e="controlled",initialValues:r,initialErrors:n={},initialDirty:s={},initialTouched:c={},clearInputErrorOnChange:o=!0,validateInputOnChange:f=!1,validateInputOnBlur:u=!1,onValuesChange:a,transformValues:E=V=>V,enhanceGetInputProps:S,validate:F}={}){const V=Pe(n),y=Ae({initialValues:r,onValuesChange:a,mode:e}),p=Te({initialDirty:s,initialTouched:c,$values:y,mode:e}),k=_e({$values:y,$errors:V,$status:p}),C=Re({$status:p}),[I,P]=l.useState(0),[_,D]=l.useState({}),d=l.useCallback(()=>{y.resetValues(),V.clearErrors(),p.resetDirty(),p.resetTouched(),e==="uncontrolled"&&P(i=>i+1)},[]),b=l.useCallback(i=>{o&&V.clearErrors(),e==="uncontrolled"&&P(g=>g+1),Object.keys(C.subscribers.current).forEach(g=>{const O=w(g,y.refValues.current),h=w(g,i);O!==h&&C.getFieldSubscribers(g).forEach(L=>L({previousValues:i,updatedValues:y.refValues.current}))})},[o]),m=l.useCallback(i=>{const g=y.refValues.current;y.initialize(i,()=>e==="uncontrolled"&&P(O=>O+1)),b(g)},[b]),$=l.useCallback((i,g,O)=>{const h=ce(i,f),L=g instanceof Function?g(w(i,y.refValues.current)):g;p.setCalculatedFieldDirty(i,L),p.setFieldTouched(i,!0),!h&&o&&V.clearFieldError(i),y.setFieldValue({path:i,value:g,updateState:e==="controlled",subscribers:[...C.getFieldSubscribers(i),h?v=>{const T=M(i,F,v.updatedValues);T.hasError?V.setFieldError(i,T.error):V.clearFieldError(i)}:null,(O==null?void 0:O.forceUpdate)!==!1&&e!=="controlled"?()=>D(v=>({...v,[i]:(v[i]||0)+1})):null]})},[a,F]),A=l.useCallback(i=>{const g=y.refValues.current;y.setValues({values:i,updateState:e==="controlled"}),b(g)},[a,b]),W=l.useCallback(()=>{const i=ee(F,y.refValues.current);return V.setErrors(i.errors),i},[F]),U=l.useCallback(i=>{const g=M(i,F,y.refValues.current);return g.hasError?V.setFieldError(i,g.error):V.clearFieldError(i),g},[F]),X=(i,{type:g="input",withError:O=!0,withFocus:h=!0,...L}={})=>{const T={onChange:we(z=>$(i,z,{forceUpdate:!1})),"data-path":ne(t,i)};return O&&(T.error=V.errorsState[i]),g==="checkbox"?T[e==="controlled"?"checked":"defaultChecked"]=w(i,y.refValues.current):T[e==="controlled"?"value":"defaultValue"]=w(i,y.refValues.current),h&&(T.onFocus=()=>p.setFieldTouched(i,!0),T.onBlur=()=>{if(ce(i,u)){const z=M(i,F,y.refValues.current);z.hasError?V.setFieldError(i,z.error):V.clearFieldError(i)}}),Object.assign(T,S==null?void 0:S({inputProps:T,field:i,options:{type:g,withError:O,withFocus:h,...L},form:J}))},Z=(i,g)=>O=>{O==null||O.preventDefault();const h=W();h.hasErrors?g==null||g(h.errors,y.refValues.current,O):i==null||i(E(y.refValues.current),O)},ae=i=>E(i||y.refValues.current),fe=l.useCallback(i=>{i.preventDefault(),d()},[]),de=l.useCallback(i=>i?!M(i,F,y.refValues.current).hasError:!ee(F,y.refValues.current).hasErrors,[F]),pe=i=>`${I}-${i}-${_[i]||0}`,ye=l.useCallback(i=>document.querySelector(`[data-path="${ne(t,i)}"]`),[]),J={watch:C.watch,initialized:y.initialized.current,values:y.stateValues,getValues:y.getValues,setInitialValues:y.setValuesSnapshot,initialize:m,setValues:A,setFieldValue:$,errors:V.errorsState,setErrors:V.setErrors,setFieldError:V.setFieldError,clearFieldError:V.clearFieldError,clearErrors:V.clearErrors,resetDirty:p.resetDirty,setTouched:p.setTouched,setDirty:p.setDirty,isTouched:p.isTouched,resetTouched:p.resetTouched,isDirty:p.isDirty,getTouched:p.getTouched,getDirty:p.getDirty,reorderListItem:k.reorderListItem,insertListItem:k.insertListItem,removeListItem:k.removeListItem,reset:d,validate:W,validateField:U,getInputProps:X,onSubmit:Z,onReset:fe,isValid:de,getTransformedValues:ae,key:pe,getInputNode:ye};return Oe(t,J),J}export{q as I,ie as T,We as u};
